Version 4
SHEET 1 3496 1432
WIRE 784 192 688 192
WIRE 848 192 848 112
WIRE 848 192 784 192
WIRE 928 192 848 192
WIRE 1024 192 928 192
WIRE 1536 192 1536 144
WIRE 1536 192 1408 192
WIRE 1664 192 1536 192
WIRE 832 240 592 240
WIRE 1408 240 1408 192
WIRE 1520 240 1408 240
WIRE 688 256 688 192
WIRE 928 256 928 192
WIRE 1408 256 1408 240
WIRE 1664 256 1664 192
WIRE 592 272 592 240
WIRE 592 272 496 272
WIRE 640 272 592 272
WIRE 832 272 832 240
WIRE 880 272 832 272
WIRE 1360 272 1296 272
WIRE 784 304 784 192
WIRE 784 304 688 304
WIRE 1024 304 1024 192
WIRE 1024 304 928 304
WIRE 1520 304 1520 240
WIRE 1520 304 1408 304
WIRE 1760 304 1664 304
WIRE 1616 336 1568 336
WIRE 1664 368 1664 352
WIRE 1760 368 1760 304
WIRE 1760 368 1664 368
WIRE 272 400 224 400
WIRE 1408 400 1408 352
WIRE 1536 400 1408 400
WIRE 1664 400 1664 368
WIRE 1664 400 1536 400
WIRE 48 416 -32 416
WIRE 272 432 224 432
WIRE 1536 448 1536 400
WIRE -192 496 -192 464
WIRE -32 496 -32 416
WIRE 688 528 688 352
WIRE 928 528 928 352
WIRE 656 560 336 560
WIRE 832 560 752 560
WIRE 896 560 832 560
WIRE 1216 560 992 560
WIRE -192 608 -192 576
WIRE -32 608 -32 576
WIRE 688 672 688 592
WIRE 928 672 928 592
WIRE 784 720 688 720
WIRE 1024 720 928 720
WIRE 592 752 496 752
WIRE 640 752 592 752
WIRE 880 752 832 752
WIRE 592 784 592 752
WIRE 832 784 832 752
WIRE 832 784 592 784
WIRE 336 800 336 560
WIRE 688 848 688 768
WIRE 784 848 784 720
WIRE 784 848 688 848
WIRE 848 848 784 848
WIRE 928 848 928 768
WIRE 928 848 848 848
WIRE 1024 848 1024 720
WIRE 1024 848 928 848
WIRE 336 896 336 800
WIRE 848 912 848 848
WIRE 336 1008 336 976
WIRE 432 1088 336 1088
WIRE 704 1088 528 1088
WIRE 832 1088 704 1088
WIRE 1024 1088 928 1088
WIRE 336 1184 336 1088
WIRE 336 1280 336 1184
WIRE 336 1392 336 1360
FLAG -192 608 0
FLAG -192 464 Vdd
FLAG -32 608 0
FLAG -32 416 VIN
FLAG 272 400 VP
FLAG 272 432 VN
FLAG 496 752 VN
FLAG 496 272 VP
FLAG 336 1392 0
FLAG 336 1184 IN_NORMAL
FLAG 832 560 OUT_CS
FLAG 704 1088 OUT_NORMAL
FLAG 848 112 Vdd
FLAG 848 912 0
FLAG 336 1008 0
FLAG 336 800 IN_CS
FLAG 1296 272 VP
FLAG 1568 336 VN
FLAG 1536 448 0
FLAG 1536 144 Vdd
SYMBOL voltage -192 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 1.8
SYMBOL voltage -32 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value {VIN}
SYMBOL vco_current_source 96 416 R0
SYMATTR SpiceLine VDD=1.8 L={L_CS} W_BASE={WN_CS} WPFACT={WPFACT_CS} WIDE_FACT={WIDE_FACT} LD=0.48u R={R_CS}
SYMATTR InstName X8
SYMBOL pmos4 640 352 M180
SYMATTR InstName M1
SYMATTR Value CMOSP
SYMATTR Value2 l={L_CS} w={WP_CS} ad={ADS(WP_CS, LD)} as={ADS(WP_CS, LD)} pd={PDS(WP_CS, LD)} ps={PDS(WP_CS, LD)}
SYMBOL nmos4 640 672 R0
SYMATTR InstName M3
SYMATTR Value CMOSN
SYMATTR Value2 l={L_CS} w={WN_CS} ad={ADS(WN_CS, LD)} as={ADS(WN_CS, LD)} pd={PDS(WN_CS, LD)} ps={PDS(WN_CS, LD)}
SYMBOL pmos4 880 352 M180
SYMATTR InstName M4
SYMATTR Value CMOSP
SYMATTR Value2 l={L_CS} w={WP_CS} ad={ADS(WP_CS, LD)} as={ADS(WP_CS, LD)} pd={PDS(WP_CS, LD)} ps={PDS(WP_CS, LD)}
SYMBOL nmos4 880 672 R0
SYMATTR InstName M5
SYMATTR Value CMOSN
SYMATTR Value2 l={L_CS} w={WN_CS} ad={ADS(WN_CS, LD)} as={ADS(WN_CS, LD)} pd={PDS(WN_CS, LD)} ps={PDS(WN_CS, LD)}
SYMBOL inversor4 672 560 R0
SYMATTR InstName X1
SYMATTR SpiceLine VDD=1.8 L={L_INV} LD={LD} WN={WN_INV} WPFACT=1.5
SYMBOL inversor4 912 560 R0
SYMATTR InstName X2
SYMATTR SpiceLine VDD=1.8 L={L_INV} LD={LD} WN={WN_INV} WPFACT=1.5
SYMBOL inversor 448 1088 R0
SYMATTR InstName X3
SYMBOL inversor 848 1088 R0
SYMATTR InstName X4
SYMBOL voltage 336 1264 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1.8 500p {TR} {TF} 5n 10n)
SYMBOL voltage 336 880 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 1.8 500p {TR} {TF} 5n 10n)
SYMBOL pmos4 1360 352 M180
SYMATTR InstName M2
SYMATTR Value CMOSP
SYMATTR Value2 l={L_CS} w={WP_CS} ad={ADS(WP_CS, LD)} as={ADS(WP_CS, LD)} pd={PDS(WP_CS, LD)} ps={PDS(WP_CS, LD)}
SYMBOL nmos4 1616 256 R0
SYMATTR InstName M6
SYMATTR Value CMOSN
SYMATTR Value2 l={L_CS} w={WN_CS} ad={ADS(WN_CS, LD)} as={ADS(WN_CS, LD)} pd={PDS(WN_CS, LD)} ps={PDS(WN_CS, LD)}
TEXT -216 -112 Left 2 !.include "TSMC180.lib"
TEXT -216 -40 Left 2 !.func ADS(w, ld) = {w * ld}
TEXT -216 -8 Left 2 !.func PDS(w, ld) {w + 2*ld}
TEXT -216 -72 Left 2 !.param LD = 0.48u
TEXT -216 136 Left 2 !.param L_CS = 3u
TEXT -216 168 Left 2 !.param WN_CS 30u
TEXT -104 664 Left 2 !.param VIN 0
TEXT -216 200 Left 2 !.param WPFACT_CS 1.5
TEXT -216 232 Left 2 !.param WP_CS = { WN_CS * WPFACT_CS }
TEXT -216 48 Left 2 !.param L_INV = 0.9u
TEXT -216 80 Left 2 !.param WN_INV = 2.1u
TEXT 1104 656 Left 2 !.meas TRAN tphl_cs TRIG V(IN_CS)=V(Vdd)/2 TD=0 RISE=1 TARG V(OUT_CS)=V(Vdd)/2 FALL=1
TEXT 1104 688 Left 2 !.meas TRAN tplh_cs TRIG V(IN_CS)=V(Vdd)/2 TD=0 FALL=1 TARG V(OUT_CS)=V(Vdd)/2 RISE=1
TEXT 1104 720 Left 2 !.meas TRAN tp_cs PARAM (tphl_cs + tplh_cs)/2
TEXT 1104 752 Left 2 !.meas TRAN tr_out_cs TRIG V(OUT_CS)=V(Vdd)*0.1 TD=0 RISE=1 TARG V(OUT_CS)=V(Vdd)*0.9 RISE=1
TEXT 1104 784 Left 2 !.meas TRAN tf_out_cs TRIG V(OUT_CS)=V(Vdd)*0.9 TD=0 FALL=1 TARG V(OUT_CS)=V(Vdd)*0.1 FALL=1
TEXT 1104 992 Left 2 !.meas TRAN tphl_normal TRIG V(IN_NORMAL)=V(Vdd)/2 TD=0 RISE=1 TARG V(OUT_NORMAL)=V(Vdd)/2 FALL=1
TEXT 1104 1024 Left 2 !.meas TRAN tplh_normal TRIG V(IN_NORMAL)=V(Vdd)/2 TD=0 FALL=1 TARG V(OUT_NORMAL)=V(Vdd)/2 RISE=1
TEXT 1104 1056 Left 2 !.meas TRAN tp_normal PARAM (tphl_normal + tplh_normal)/2
TEXT 1104 1088 Left 2 !.meas TRAN tr_out_normal TRIG V(OUT_NORMAL)=V(Vdd)*0.1 TD=0 RISE=1 TARG V(OUT_NORMAL)=V(Vdd)*0.9 RISE=1
TEXT 1104 1120 Left 2 !.meas TRAN tf_out_normal TRIG V(OUT_NORMAL)=V(Vdd)*0.9 TD=0 FALL=1 TARG V(OUT_NORMAL)=V(Vdd)*0.1 FALL=1
TEXT -216 264 Left 2 !.param R_CS 11.7k
TEXT -216 296 Left 2 !.param WIDE_FACT = 3
TEXT -168 1096 Left 2 !.param TR = 73p
TEXT -168 1128 Left 2 !.param TF = 37p
TEXT -226 1416 Left 2 !.dc Vin 0 1.8 1m
